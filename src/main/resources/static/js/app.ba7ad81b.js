(function(){var e={803:function(e,t,a){"use strict";var r=a(144),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},l=[],i={name:"App"},o=i,s=a(1001),u=(0,s.Z)(o,n,l,!1,null,null,null),c=u.exports,d=a(8345),p=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search-div"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[t("el-form-item",{attrs:{label:"次运编号"}},[t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.params.projectId,callback:function(t){e.$set(e.params,"projectId",t)},expression:"params.projectId"}})],1),t("el-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"供应商"}},[t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.params.supplier,callback:function(t){e.$set(e.params,"supplier",t)},expression:"params.supplier"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.initList}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.showDialog}},[e._v("新增")])],1),t("el-form-item",[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.showRecordDialog}},[e._v("退税记账")])],1)],1)],1),t("div",[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.refundTaxList},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",width:"55"}}),t("el-table-column",{attrs:{prop:"projectId",label:"次运编号",width:"100"}}),t("el-table-column",{attrs:{prop:"brandAttribute",label:"品牌属性",width:"100"}}),t("el-table-column",{attrs:{prop:"demandName",width:"100",label:"需方简称"}}),t("el-table-column",{attrs:{prop:"supplier",width:"100",label:"供应商"}}),t("el-table-column",{attrs:{prop:"receiptName",width:"100",label:"发票号"}}),t("el-table-column",{attrs:{prop:"invoiceAmount",width:"100",label:"开票金额"}}),t("el-table-column",{attrs:{prop:"invoiceTime",width:"100",label:"开票日"}}),t("el-table-column",{attrs:{prop:"taxRate",width:"100",label:"税率"}}),t("el-table-column",{attrs:{prop:"theoryRefundTax",width:"100",label:"理论退税"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.theoryRefundTax)+" ")]}}])}),t("el-table-column",{attrs:{prop:"actualRefundTax",width:"100",label:"实际退税"}}),t("el-table-column",{attrs:{prop:"canRefundTax",width:"100",label:"可退税"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.canRefundTax?"可":"不可")+" ")]}}])}),t("el-table-column",{attrs:{prop:"state",width:"100",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.state?"已退税":"未退税")+" ")]}}])})],1)]],2),t("div",{staticStyle:{float:"right"}},[t("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-size":e.params.pageSize,total:e.params.total,background:"",layout:"total, prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{visible:e.dialog,width:"50%"},on:{"update:visible":function(t){e.dialog=t}}},[t("el-form",{ref:"form",attrs:{model:e.refund,size:"mini"}},[t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"次运编号:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.projectId,callback:function(t){e.$set(e.refund,"projectId",t)},expression:"refund.projectId"}})],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"开票金额:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.invoiceAmount,callback:function(t){e.$set(e.refund,"invoiceAmount",t)},expression:"refund.invoiceAmount"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"品牌属性:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.brandAttribute,callback:function(t){e.$set(e.refund,"brandAttribute",t)},expression:"refund.brandAttribute"}})],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"税率:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.taxRate,callback:function(t){e.$set(e.refund,"taxRate",t)},expression:"refund.taxRate"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"需方简称:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.demandName,callback:function(t){e.$set(e.refund,"demandName",t)},expression:"refund.demandName"}})],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"理论退税:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.theoryRefundTax,callback:function(t){e.$set(e.refund,"theoryRefundTax",t)},expression:"refund.theoryRefundTax"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"供应商:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.refund.supplier,callback:function(t){e.$set(e.refund,"supplier",t)},expression:"refund.supplier"}})],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"可退税:"}},[t("el-select",{model:{value:e.refund.canRefundTax,callback:function(t){e.$set(e.refund,"canRefundTax",t)},expression:"refund.canRefundTax"}},[t("el-option",{attrs:{label:"可",value:"1"}}),t("el-option",{attrs:{label:"不可",value:"0"}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"发票号:"}},[t("el-input",{attrs:{type:"number",size:"mini"},model:{value:e.refund.receiptName,callback:function(t){e.$set(e.refund,"receiptName",t)},expression:"refund.receiptName"}})],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",{attrs:{label:"开票日:"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.refund.invoiceTime,callback:function(t){e.$set(e.refund,"invoiceTime",t)},expression:"refund.invoiceTime"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.save}},[e._v("保存")])],1)],1),t("el-col",{attrs:{span:9,offset:2}},[t("el-form-item",[t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)],1)],1)],1),t("el-dialog",{attrs:{visible:e.recordDialog,width:"70%"},on:{"update:visible":function(t){e.recordDialog=t}}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.refundRecordList}},[t("el-table-column",{attrs:{type:"index",width:"55"}}),t("el-table-column",{attrs:{prop:"projectId",label:"次运编号",width:"100"}}),t("el-table-column",{attrs:{prop:"demandName",width:"100",label:"需方简称"}}),t("el-table-column",{attrs:{prop:"supplier",width:"100",label:"供应商"}}),t("el-table-column",{attrs:{prop:"invoiceAmount",width:"100",label:"开票金额"}}),t("el-table-column",{attrs:{prop:"invoiceTime",width:"100",label:"开票日"}}),t("el-table-column",{attrs:{prop:"taxRate",width:"100",label:"税率"}}),t("el-table-column",{attrs:{prop:"theoryRefundTax",width:"100",label:"理论退税"}}),t("el-table-column",{attrs:{width:"100",label:"实际退税"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[t("el-input",{model:{value:a.row.actualRefundTax,callback:function(t){e.$set(a.row,"actualRefundTax",t)},expression:"scope.row.actualRefundTax"}})],1)]}}])})],1),t("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.refundAndRecord}},[e._v("保存")]),t("el-button",{attrs:{type:"warning",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)],1)},m=[],f=(a(7658),a(9669)),h=a.n(f),b=a(4720),g=a.n(b);const w=h().create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_USBKEY_API,timeout:5e3});w.interceptors.request.use((e=>e),(function(e){return Promise.reject(e)})),w.interceptors.response.use((e=>e.data),(function(e){return b.Notification.error({title:"UsbKey接口请求失败:"+e.toString(),duration:5e3}),Promise.reject(e)}));var v=w,x=a(129),y=a.n(x);h().interceptors.request.use((e=>(window.sessionStorage.getItem("tokenStr")&&(e.headers["Authorization"]=window.sessionStorage.getItem("tokenStr")),e)),(e=>{console.log(e)})),h().interceptors.response.use((e=>{if(e.status&&200===e.status){if(500===e.data.code||401===e.data.code||403===e.data.code)return void b.Message.error({message:e.data.message});e.data.message&&b.Message.success({message:e.data.message})}return e.data}),(e=>{504===e.response.code||404===e.response.code?b.Message.error({message:"服务器无法访问"}):403===e.response.code?b.Message.error({message:"权限不足"}):401===e.response.code?(b.Message.error({message:"尚未登录,请登录"}),U.replace("/")):e.response.data.message?b.Message.error({message:e.response.data.message}):b.Message.error({message:"未知错误"})}));let k="";const T=(e,t)=>h()({method:"post",url:`${k}${e}`,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},paramsSerializer:e=>y().stringify(e,{indices:!1})});var z={name:"RefundTax",data(){return{params:{pageNum:1,pageSize:5,projectId:"",supplier:"",total:0},refundTaxList:[],multipleSelection:[],refundRecordList:[],dialog:!1,recordDialog:!1,refund:{projectId:"",brandAttribute:"",demandName:"",supplier:"",receiptName:"",invoiceAmount:"",invoiceTime:"",taxRate:"",theoryRefundTax:"",actualRefundTax:"",canRefundTax:""},recordParam:{actualRefundTax:""}}},created(){this.initList()},methods:{handleSizeChange(e){this.params.pageSize=e,this.initList()},handleCurrentChange(e){this.params.pageNum=e,this.initList()},initList(){v.post("/refundTax/getRefundTaxList",this.params).then((e=>{this.refundTaxList=e.data.list,this.params.total=e.data.total})).catch((e=>{console.log(e)}))},refundAndRecord(){v.post("/refundTax/updateRefundTax",this.refundRecordList).then((e=>{e&&(this.recordDialog=!1,this.initList())}))},showDialog(){this.dialog=!0},save(){v.post("/refundTax/saveRefundTax",this.refund).then((e=>{e&&(this.initList(),this.dialog=!1)})).catch((e=>{console.log(e)}))},back(){this.dialog=!1},handleSelectionChange(e){this.multipleSelection=e},showRecordDialog(){let e=[];if(this.multipleSelection.forEach((t=>{e.push(t.id)})),e.length<1)return;let t={ids:e};this.getRefundTaxByIds(t),this.refundRecordList.length>1&&(this.recordDialog=!0)},getRefundTaxByIds(e){T("/refundTax/getRefundTaxByIds",e).then((e=>{e&&(this.refundRecordList=e.data)})).catch((e=>{console.log(e)}))}}},_=z,S=(0,s.Z)(_,p,m,!1,null,"d1b898ae",null),R=S.exports,N=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-header",[t("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[t("el-menu-item",[t("router-link",{attrs:{to:"/warehouse"}},[e._v("入库管理")])],1),t("el-menu-item",[t("router-link",{attrs:{to:"/refundTax"}},[e._v("出口退税管理")])],1)],1)],1),t("el-main",[t("router-view")],1)],1)],1)},L=[],C={name:"Home"},A=C,$=(0,s.Z)(A,N,L,!1,null,"0685adf2",null),j=$.exports,I=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search-div"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[t("el-form-item",{attrs:{label:"商品名"}},[t("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.params.goodsName,callback:function(t){e.$set(e.params,"goodsName",t)},expression:"params.goodsName"}})],1),t("el-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"仓库"}},[t("el-select",{attrs:{size:"mini",placeholder:"",clearable:""},model:{value:e.params.warehouse,callback:function(t){e.$set(e.params,"warehouse",t)},expression:"params.warehouse"}},e._l(e.warehouseParam,(function(e){return t("el-option",{key:e.id,attrs:{label:e.wareName,value:e.id}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.initList}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.insert}},[e._v("新增")])],1),t("el-form-item",[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.remove}},[e._v("删除")])],1)],1)],1),t("div",[[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.warehouseList},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",width:"55"}}),t("el-table-column",{attrs:{prop:"goodsName",label:"商品名",width:"300"}}),t("el-table-column",{attrs:{prop:"wareName",label:"仓库",width:"300"}}),t("el-table-column",{attrs:{prop:"quantity",width:"300",label:"数量"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.showDialog(a.row)}}},[e._v("编辑 ")])]}}])})],1)]],2),t("div",{staticStyle:{float:"right"}},[t("el-pagination",{attrs:{"current-page":e.params.pageNum,"page-size":e.params.pageSize,total:e.params.total,background:"",layout:"total, prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{visible:e.dialog,width:"50%"},on:{"update:visible":function(t){e.dialog=t}}},[t("el-form",{ref:"form",attrs:{model:e.warehouse,size:"mini"}},[t("el-row",[t("el-form-item",{attrs:{label:"商品名:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.warehouse.goodsName,callback:function(t){e.$set(e.warehouse,"goodsName",t)},expression:"warehouse.goodsName"}})],1)],1),t("el-row",[t("el-form-item",{attrs:{label:"仓库:"}},[t("el-select",{attrs:{size:"mini"},model:{value:e.warehouse.warehouse,callback:function(t){e.$set(e.warehouse,"warehouse",t)},expression:"warehouse.warehouse"}},e._l(e.warehouseParam,(function(e){return t("el-option",{key:e.id,attrs:{label:e.wareName,value:e.id}})})),1)],1)],1),t("el-row",[t("el-form-item",{attrs:{label:"数量:"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.warehouse.quantity,callback:function(t){e.$set(e.warehouse,"quantity",t)},expression:"warehouse.quantity"}})],1)],1),t("el-row",[t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.update}},[e._v("保存")])],1)],1)],1)],1)],1)},P=[],O={name:"Warehouse",data(){return{params:{pageNum:1,pageSize:5,goodsName:"",warehouse:"",total:0},dialog:!1,warehouse:{goodsName:"",wareName:"",warehouse:"",quantity:""},warehouseParam:[],warehouseList:[],multipleSelection:[]}},created(){this.initList(),this.getAllWarehouse()},methods:{handleSizeChange(e){this.params.pageSize=e,this.initList()},handleCurrentChange(e){this.params.pageNum=e,this.initList()},initList(){v.post("/warehouse/getWarehouseList",this.params).then((e=>{this.warehouseList=e.data.list,this.params.total=e.data.total})).catch((e=>{console.log(e)}))},showDialog(e){this.getAllWarehouse(),this.warehouse=e,this.dialog=!0},getAllWarehouse(){v.post("/warehouse/getAllWarehouse").then((e=>{e&&(this.warehouseParam=e.data)}))},update(){v.post("/warehouse/saveAndUpdateWarehouse",this.warehouse).then((e=>{e&&(this.dialog=!1)})).catch((e=>{console.log(e)}))},insert(){this.dialog=!0},remove(){let e=[];this.multipleSelection.forEach((t=>{e.push(t.id)}));let t={ids:e};T("/warehouse/deleteWarehouse",t).then((e=>{e&&this.initList()}))},handleSelectionChange(e){this.multipleSelection=e}}},D=O,M=(0,s.Z)(D,I,P,!1,null,"10c7dc20",null),W=M.exports;r["default"].use(d.ZP);const E=[{path:"/",name:"Home",component:j,redirect:W,children:[{path:"/warehouse",name:"Warehouse",component:W},{path:"/refundTax",name:"RefundTax",component:R}]}],q=new d.ZP({routes:E});var U=q;r["default"].config.productionTip=!1,r["default"].use(g()),r["default"].prototype.http=h(),new r["default"]({router:U,render:e=>e(c)}).$mount("#app")},4654:function(){}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,l){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],l=e[c][2];for(var o=!0,s=0;s<r.length;s++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[s])}))?r.splice(s--,1):(o=!1,l<i&&(i=l));if(o){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,n,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,i=r[0],o=r[1],s=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(s)var c=s(a)}for(t&&t(r);u<i.length;u++)l=i[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},r=self["webpackChunknew_start"]=self["webpackChunknew_start"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(803)}));r=a.O(r)})();
//# sourceMappingURL=app.ba7ad81b.js.map